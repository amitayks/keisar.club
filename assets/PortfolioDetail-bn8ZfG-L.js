import{c as g,d as p,e as f,g as N,f as v,h as y,b as k,r as h,j as e,L as w,i as b,S as s,C as L}from"./index-Dszqx9W2.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=g("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=g("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=g("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),E=()=>{const{SKU:a}=p();console.log("SKU",a);const{data:i,isLoading:o,error:r}=f({queryKey:["portfolioItem",a],queryFn:()=>N(a||""),enabled:!!a,staleTime:1e3*60*5});return console.log("portfolioItem",i),{portfolioItem:i,isLoadingItem:o,error:r}},M=a=>{const{imageData:i,isLoading:o,error:r}=v(a),{data:c,isLoading:d,error:m}=f({queryKey:["portfolioImagePack",a],queryFn:()=>y(a),enabled:!!a,staleTime:1e3*60*5});return{mainImage:i,imagePack:c,isLoadingMainImage:o,isLoadingImagePack:d,error:r||m}},C=()=>{k();const[a,i]=h.useState(null),{portfolioItem:o,isLoadingItem:r,error:c}=E(),{mainImage:d,imagePack:m,isLoadingMainImage:u,isLoadingImagePack:j,error:x}=M((o==null?void 0:o.image)||"");h.useEffect(()=>{d&&i(d)},[d]),h.useEffect(()=>{(c||x)&&console.error("Error loading portfolio item:",c||x)},[c,x]);const t=o||{title:"",content:"",description:"",date:"",client:"",category:[]};return e.jsx("div",{className:"dark:bg-zinc-900 dark:text-white min-h-screen",dir:"rtl",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("nav",{className:"flex items-center justify-between text-sm font-medium mb-8",dir:"ltr",children:[e.jsxs(w,{to:"/portfolio",className:"hover:text-gray-900 dark:hover:text-white flex items-center",children:[e.jsx(b,{className:"h-4 w-4 mr-1"}),"Back to Portfolio"]}),r?e.jsx(s,{className:"h-6 w-24"}):e.jsx(L,{cat:t.category,type:"detail"})]}),e.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-x-8",children:[e.jsxs("div",{className:"mb-8 lg:mb-0",children:[e.jsxs("div",{className:"aspect-square w-full relative overflow-hidden rounded-lg mb-4",children:[e.jsx(s,{className:"absolute inset-0 w-full h-full"}),!u&&a&&e.jsx("img",{src:a,alt:t.title,className:"w-full h-full object-cover absolute inset-0 z-10",onLoad:l=>{const n=l.target;n.style.opacity="1"},style:{opacity:0,transition:"opacity 0.3s ease-in-out"}})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:j?Array(4).fill(0).map((l,n)=>e.jsx("div",{className:"aspect-square rounded-md overflow-hidden",children:e.jsx(s,{className:"w-full h-full"})},n)):m&&m.map((l,n)=>l.url?e.jsx("div",{className:`aspect-square cursor-pointer rounded-md overflow-hidden ${a===l.url?"ring-2 ring-indigo-500":""}`,onClick:()=>l.url&&i(l.url),children:l.isLoading?e.jsx(s,{className:"w-full h-full"}):e.jsx("img",{src:l.url,alt:`${t.title} thumbnail ${n+1}`,className:"w-full h-full object-cover"})},n):e.jsx("div",{className:"aspect-square rounded-md overflow-hidden",children:e.jsx(s,{className:"w-full h-full"})},n))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[r?e.jsx(s,{className:"h-10 w-3/4 mb-2"}):e.jsx("h1",{className:"text-3xl font-extrabold text-zinc-900 dark:text-stone-200 mb-2",children:t.title}),e.jsx("div",{className:"flex flex-wrap gap-4 text-stone-600 dark:text-stone-400 mb-4",children:r?e.jsxs(e.Fragment,{children:[e.jsx(s,{className:"h-6 w-32"}),e.jsx(s,{className:"h-6 w-40"})]}):e.jsxs(e.Fragment,{children:[t.client&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:t.client})]}),t.date&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:t.date})]})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-stone-200 mb-2",children:"תיאור הפרויקט"}),r?e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{className:"h-4 w-full"}),e.jsx(s,{className:"h-4 w-5/6"}),e.jsx(s,{className:"h-4 w-4/6"})]}):e.jsx("p",{className:"text-stone-600 dark:text-stone-400",children:t.description})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-stone-200 mb-2",children:"פרטים נוספים"}),r?e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{className:"h-4 w-full"}),e.jsx(s,{className:"h-4 w-5/6"}),e.jsx(s,{className:"h-4 w-full"}),e.jsx(s,{className:"h-4 w-4/6"})]}):e.jsx("div",{className:"text-stone-600 dark:text-stone-400 portfolio-content",dangerouslySetInnerHTML:{__html:t.content}})]}),!r&&t.externalLink&&e.jsx("div",{className:"pt-6 border-t border-stone-200 dark:border-stone-700",children:e.jsxs("a",{href:t.externalLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-indigo-600 text-white rounded-md font-medium hover:bg-indigo-700 transition-colors",children:["View Project",e.jsx(P,{className:"h-5 w-5 ml-2"})]})})]})]})]})})};export{C as default};
