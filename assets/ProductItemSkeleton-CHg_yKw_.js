import{u as r}from"./supabase-Tz9ENgEM.js";import{a as n,b as d}from"./apiProduct-CW1g9Hab.js";import{j as e,L as m,S as a,f as o}from"./index-Ca00R9Pi.js";const j=()=>{const{error:s,isLoading:t,data:l=[]}=r({queryKey:["products"],queryFn:()=>n()});return s&&console.log(s),{error:s,isLoading:t,products:l}},x=s=>{const{data:t,isLoading:l}=r({queryKey:["productImage",s],queryFn:()=>d(s)});return{imageData:t,isLoading:l}};function g({product:s}){const{imageData:t,isLoading:l}=x(s.image);return e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform h-full",children:e.jsxs(m,{to:`/products/${s.SKU}`,state:{preserveScroll:!0},className:"flex flex-col h-full",children:[l?e.jsx("div",{className:"aspect-square w-full",children:e.jsx(a,{className:"w-full h-full object-cover"})}):e.jsx("img",{src:t,alt:s.name,className:"w-full h-70 object-cover"}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsx(c,{cat:s.category}),e.jsx("h3",{className:"text-x md:text-xl font-semibold text-right",dir:"rtl",children:s.name}),e.jsx("p",{className:"text-gray-600 mb-4 text-right",dir:"rtl",children:s.description.split(" ").slice(0,4).join(" ")}),e.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[e.jsx("span",{className:"md:text-2xl text-xl font-bold text-stone-700",children:o(s.price).slice(0,-3)}),e.jsx("button",{className:"bg-stone-700 text-white md:px-4 md:py-2 px-2 py-1 rounded-md font-medium hover:bg-stone-900 transition-colors",children:"לרכישה"})]})]})]})},s.id)}function c({cat:s}){return e.jsx("div",{className:"justify-between md:items-center hidden md:flex items-start mb-2",dir:"rtl",children:s==null?void 0:s.map((t,l)=>e.jsx("div",{className:"bg-stone-200 text-stone-800 md:text-xs text-[8px] font-medium px-2.5 py-0.5 rounded ",children:l<3?t:null},t))})}function p(){return e.jsx("section",{className:"py-16 bg-white",children:e.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8",children:Array.from({length:3}).map((s,t)=>e.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform h-full flex flex-col",children:[e.jsx("div",{className:"aspect-square w-full",children:e.jsx(a,{className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsx("div",{className:"justify-between md:items-center hidden md:flex items-start mb-2",dir:"rtl",children:[...Array(3)].map((l,i)=>e.jsx("span",{className:"bg-stone-200 text-stone-800 md:text-xs text-[8px] font-medium px-2.5 py-0.5 rounded",children:e.jsx(a,{className:"w-20 h-4"})},i))}),e.jsx("h3",{className:"text-x md:text-xl font-semibold text-right mb-2",dir:"rtl",children:e.jsx(a,{className:"w-3/6 h-8"})}),e.jsx("p",{className:"text-gray-600 mb-4 text-right",dir:"rtl",children:e.jsx(a,{className:"w-3/4 h-5"})}),e.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[e.jsx("span",{className:"md:text-2xl text-xl font-bold text-stone-700",children:e.jsx(a,{className:"w-16 h-6"})}),e.jsx("button",{className:"rounded-md",children:e.jsx(a,{className:"w-20 h-8"})})]})]})]},t))})})})}export{p as P,g as a,j as u};
