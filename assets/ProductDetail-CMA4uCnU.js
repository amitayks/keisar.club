import{c as h,d as j,u as p,j as e,a as N,r as u,L as g}from"./index-B8MsjlgR.js";import{a as v}from"./apiProduct-C9lcYx-0.js";import{a as w}from"./apiImages-D_peJOwT.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=h("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=h("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=h("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),I=()=>{const{SKU:o}=j(),{error:a,isLoading:c,data:s}=p({queryKey:["product"],queryFn:()=>{if(!o)throw new Error("SKU is required");return v(o)}}),{error:l,isLoading:t,data:m}=p({queryKey:["productImage",s==null?void 0:s.image],queryFn:()=>{if(!o)throw new Error("SKU is required");return w(s==null?void 0:s.image)},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,enabled:!!s}),d=a||l;return d&&console.log(d),{error:d,product:s||null,imageUrl:m,isLoadingImage:t,isLoadingProduct:c}};function L(){return e.jsx("div",{className:"mx-auto my-[4.8rem] w-16 aspect-square rounded-full animate-spin",style:{background:`radial-gradient(farthest-side, #4f46e5 94%, transparent) top/10px 10px no-repeat,
          conic-gradient(transparent 30%, #4f46e5)`,WebkitMask:"radial-gradient(farthest-side, transparent calc(100% - 10px), #000 0)"}})}const M=()=>{const o=N(),[a,c]=u.useState(1),[s,l]=u.useState(void 0),{product:t,isLoadingImage:m,isLoadingProduct:d,imageUrl:i}=I();u.useEffect(()=>{i&&l(i)},[i]);const x=["https://images.unsplash.com/photo-1607082350899-7e105aa886ae?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1607083206968-13611e3d76db?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"];if(m)return e.jsx(L,{});if(!t)return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"The product you're looking for doesn't exist or has been removed."}),e.jsx(g,{to:"/products",className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 transition-colors",children:"Back to Products"})]});const f=n=>{const r=parseInt(n.target.value);!isNaN(r)&&r>0&&c(r)},b=()=>{o("/order",{state:{productId:t.id,productName:t.name,quantity:a}})};return e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("nav",{className:"flex items-center text-sm font-medium text-gray-500 mb-8",children:e.jsxs(g,{to:"/products",className:"hover:text-gray-900 flex items-center",children:[e.jsx(k,{className:"h-4 w-4 mr-1"}),"Back to Products"]})}),e.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-x-8",children:[e.jsxs("div",{className:"mb-8 lg:mb-0",children:[e.jsx("div",{className:"overflow-hidden rounded-lg mb-4",children:e.jsx("img",{src:s,alt:t.name,className:"w-full h-auto object-cover"})}),x&&x.length>0&&e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsx("div",{className:`cursor-pointer rounded-md overflow-hidden ${s===i?"ring-2 ring-indigo-500":""}`,onClick:()=>l(i),children:e.jsx("img",{src:i,alt:`${t.name} thumbnail`,className:"w-full h-20 object-cover"})}),x.map((n,r)=>e.jsx("div",{className:`cursor-pointer rounded-md overflow-hidden ${s===n?"ring-2 ring-indigo-500":""}`,onClick:()=>l(n),children:e.jsx("img",{src:n,alt:`${t.name} thumbnail ${r+1}`,className:"w-full h-20 object-cover"})},r))]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:t.category})}),e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:t.name}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:t.price}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((n,r)=>e.jsx("svg",{className:`h-5 w-5 ${r<Math.floor(t.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))}),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[t.rating," (",t.reviews," reviews)"]})]})]}),e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:`h-3 w-3 rounded-full ${t.stock==="Available"?"bg-green-500":"bg-yellow-500"} mr-2`}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.stock})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:t.longDescription})]}),e.jsx("div",{className:"mb-8",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Features"})}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mr-4",children:"Quantity"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{type:"button",onClick:()=>a>1&&c(a-1),className:"p-2 border border-gray-300 rounded-l-md bg-gray-50 text-gray-500 hover:bg-gray-100",children:"-"}),e.jsx("input",{type:"number",id:"quantity",name:"quantity",min:"1",value:a,onChange:f,className:"p-2 w-16 border-t border-b border-gray-300 text-center focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx("button",{type:"button",onClick:()=>c(a+1),className:"p-2 border border-gray-300 rounded-r-md bg-gray-50 text-gray-500 hover:bg-gray-100",children:"+"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("button",{type:"button",onClick:b,className:"flex-1 bg-indigo-600 text-white px-6 py-3 rounded-md font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center",children:[e.jsx(q,{className:"h-5 w-5 mr-2"}),"Order Now"]}),e.jsxs(g,{to:"/contact",className:"flex-1 bg-gray-100 text-gray-800 px-6 py-3 rounded-md font-medium hover:bg-gray-200 transition-colors flex items-center justify-center",children:[e.jsx(y,{className:"h-5 w-5 mr-2"}),"Ask a Question"]})]}),e.jsxs("p",{className:"mt-4 text-sm text-gray-500 flex items-center",children:[e.jsx(y,{className:"h-4 w-4 mr-1"}),"For custom requirements or bulk orders, please contact us directly."]})]})]})]})]})})};export{M as default};
